(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[0],{47:function(e,t,a){e.exports=a.p+"static/media/logo.ec468176.png"},50:function(e,t,a){e.exports=a(90)},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),l=a.n(c),i=a(8),s=a(22),u=a(17),o=a(43),m=a(48),d=a(12),p=a(3),f=[{name:{title:"Ms",first:"Suvarna",last:"Mondal"},email:"suvi@example.com",password:"suvi@123",gender:"female",dob:{date:"1993-07-20T09:44:18.674Z",age:26},registered:{date:"2002-05-21T10:59:49.966Z",age:17},picture:{large:"https://media-exp1.licdn.com/dms/image/C4E03AQEdmWit79hS7Q/profile-displayphoto-shrink_400_400/0/1581451654113?e=1622073600&v=beta&t=vP3NOapfSzAsi6XPwwfSN2hkCbEvvAwObuBIeNHXA8c"},login:{username:"suvi@277"}}],E=JSON.parse(localStorage.getItem("user")),b={signedIn:!!(null===E||void 0===E?void 0:E.isAuthenticated),activeUser:E||{}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN-IN":var a=t.payload,n=a.email,r=a.password,c=g(n,r);return c?(localStorage.setItem("user",JSON.stringify(Object(p.a)(Object(p.a)({},c),{},{isAuthenticated:!0}))),Object(p.a)(Object(p.a)({},e),{},{signedIn:!0,activeUser:c})):Object(p.a)(Object(p.a)({},e),{},{signedIn:!1});case"SIGN-OUT":return localStorage.removeItem("user"),Object(p.a)(Object(p.a)({},e),{},{signedIn:!1});default:return e}},g=function(e,t){return f.find((function(a){return a.email===e&&a.password===t}))},O=a(20),h={status:"init",users:f,isSignedUp:!1,isEditing:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REQUEST_USERS":return Object(p.a)(Object(p.a)({},e),{},{status:"loading"});case"LOADED_USERS":return Object(p.a)(Object(p.a)({},e),{},{users:[].concat(Object(O.a)(e.users),Object(O.a)(t.payload)),status:"loaded"});case"REJECTED_USERS":return Object(p.a)(Object(p.a)({},e),{},{error:t.payload,status:"error"});case"UPDATE-PROFILE":var a=t.payload.user,n=Object(O.a)(e.users),r=n.findIndex((function(e){return e.login.username===a.login.username}));return n[r]=Object(p.a)(Object(p.a)({},n[r]),a),Object(p.a)(Object(p.a)({},e),{},{isEditing:!1,users:n});case"EDIT-USER":return Object(p.a)(Object(p.a)({},e),{},{isEditing:!0});case"CANCEL-EDIT-USER":return Object(p.a)(Object(p.a)({},e),{},{isEditing:!1});case"SIGN_UP":var c=t.payload.signedUpUser,l=Object(p.a)(Object(p.a)({},c),{},{id:N(e.users)});return Object(p.a)(Object(p.a)({},e),{},{isSignedUp:!0,users:[].concat(Object(O.a)(e.users),[l])});default:return e}},N=function(e){return Math.max.apply(Math,e.map((function(e){return e.id})))+1},y=function(e){return Object(u.c)({userAccount:v,userProfiles:j,router:Object(s.b)(e)})},S=a(19),U=a.n(S),w=a(21),I=a(46),C=a.n(I),A=function(e){return{type:"REQUEST_USERS",value:e}};var k=U.a.mark(D),x=U.a.mark(R);function P(e){return C.a.get("https://randomuser.me/api/",{params:e})}function D(e){var t;return U.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(w.b)((function(){return P(e.value)}));case 3:return t=a.sent,a.next=6,Object(w.d)({type:"LOADED_USERS",payload:t.data.results});case 6:a.next=12;break;case 8:return a.prev=8,a.t0=a.catch(0),a.next=12,Object(w.d)({type:"REJECTED_USERS",error:a.t0});case 12:case"end":return a.stop()}}),k,null,[[0,8]])}function R(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.e)("REQUEST_USERS",D);case 2:case"end":return e.stop()}}),x)}var L=U.a.mark((function e(){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)([Object(w.c)(R)]);case 2:case"end":return e.stop()}}),e)})),T=d.a({basename:"/social-media-app"}),_=Object(m.a)(),F=[Object(o.a)(T),_],G=u.d.apply(void 0,[u.a.apply(void 0,F)].concat([])),q=Object(u.e)(y(T),{},G);_.run(L);var J=a(6),M=a(49),Q=Object(J.g)(Object(i.c)((function(e){return{isSignedIn:e.userAccount.signedIn}}))((function(e){var t=e.component,a=e.isSignedIn,n=Object(M.a)(e,["component","isSignedIn"]);return r.a.createElement(J.b,Object.assign({},n,{render:function(e){return!0===a?r.a.createElement(t,e):r.a.createElement(J.a,{to:{pathname:"/sign-in",state:{from:e.location}}})}}))}))),B=a(18),Z=a(14),H=a(11);a(80);var X=function(e){var t=e.name,a=e.type,n=e.placeholder,c=e.onChange,l=e.className,i=e.value;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{id:t,name:t,type:a,placeholder:n,onChange:c,value:i,className:"form-control ".concat(l)}))},z=function(e){var t=e.type,a=void 0===t?"button":t,n=e.className,c=void 0===n?"":n,l=e.buttonClicked,i=e.label,s=void 0===i?"":i;return r.a.createElement("button",{type:a,className:"btn rounded ".concat(c),onClick:l},s)},W=(a(81),function(e){var t=e.title,a=e.children;return r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement("h2",null,t),a)}),K=(a(82),function(e){for(var t=e.currentPage,a=e.perPage,n=e.total,c=e.paginate,l=[],i=1;i<=Math.ceil(n/a);i++)l.push(i);return r.a.createElement("ul",{className:"py-4 pagination justify-content-end"},l.map((function(e){return r.a.createElement("li",{className:"page-item",key:e},r.a.createElement("button",{className:e===t?"active":"",type:"button",onClick:function(){return c(e)}},e))})))}),V=(a(83),function(e){var t=e.defaultOption,a=e.items,n=e.change,c=e.fill;return r.a.createElement("select",{className:"dropdown rounded ".concat(c?"fill":""),onChange:n},r.a.createElement("option",{value:"all"},t),a.map((function(e,t){return r.a.createElement("option",{key:e.value,value:e.value},e.name)})))}),Y=Object(i.c)((function(e){var t=e.userAccount,a=e.userProfiles;return{isSignedIn:t.signedIn,isSignedUp:a.isSignedUp,users:a.users}}),(function(e){return{signInUser:function(t,a,n){return e(function(e,t){return T.push("/"),{type:"SIGN-IN",payload:{email:e,password:t}}}(t,a))}}}))((function(e){var t=e.isSignedIn,a=e.isSignedUp,c=e.signInUser,l=e.users,i={email:"",password:""},s=Object(n.useState)(i),u=Object(Z.a)(s,2),o=u[0],m=u[1],d=o.email,f=o.password,E=function(e){var t=e.target,a=t.name,n=t.value;m((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(B.a)({},a,n))}))};return r.a.createElement("div",{className:"center-form"},t?r.a.createElement("p",null,"Already Signed In"):r.a.createElement(W,{title:a?"Now Sign In":"Sign In"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),d&&f&&(c(d,f,l),m(i))}},r.a.createElement(X,{label:"Email",name:"email",type:"email",value:d,onChange:E,placeholder:"Enter email...",required:!0,className:"input"}),r.a.createElement(X,{label:"Password",name:"password",type:"password",value:f,onChange:E,placeholder:"Enter password...",required:!0,className:"input"}),r.a.createElement("div",{className:"pt-3"},r.a.createElement(z,{type:"submit",label:"Sign In",className:"btn-primary mr-3"}),r.a.createElement(H.a,{to:"sign-up",className:"btn rounded btn-outline-primary"},"Sign Up")))))})),$=Object(i.c)(null,(function(e){return{signUpUser:function(t){return e((a=t,T.push("/sign-in"),{type:"SIGN_UP",payload:{signedUpUser:a}}));var a}}}))((function(e){var t=e.signUpUser,a={firstName:"",lastName:"",email:"",password:""},c=Object(n.useState)(a),l=Object(Z.a)(c,2),i=l[0],s=l[1],u=function(e){var t=e.target,a=t.name,n=t.value;s((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(B.a)({},a,n))}))};return r.a.createElement("div",{className:"col-12 center-form"},r.a.createElement(W,{title:"Sign Up"},r.a.createElement("form",{name:"form",onSubmit:function(e){e.preventDefault(),i.firstName&&i.lastName&&i.email&&i.password&&(t(i),s(a))}},r.a.createElement(X,{label:"First Name",name:"firstName",type:"text",value:i.firstName,onChange:u,placeholder:"Enter First Name",required:!0,className:"input"}),r.a.createElement(X,{label:"Last Name",name:"lastName",type:"text",value:i.lastName,onChange:u,placeholder:"Enter Last Name",required:!0,className:"input"}),r.a.createElement(X,{label:"Email",name:"email",type:"email",value:i.email,onChange:u,placeholder:"Enter email...",required:!0,className:"input"}),r.a.createElement(X,{label:"Password",name:"password",type:"password",value:i.password,onChange:u,placeholder:"Enter password...",required:!0,className:"input"}),r.a.createElement(z,{type:"submit",label:"Sign Up",className:"btn-primary mr-3"}),r.a.createElement(H.a,{to:"sign-in"},r.a.createElement(z,{type:"button",label:"Cancel",className:"btn-secondary"})))))})),ee=(a(84),function(e){var t=e.user,a=t.login,n=t.name,c=t.email,l=t.picture;return r.a.createElement("div",{className:"user-list-row"},r.a.createElement("div",{className:"d-flex"},r.a.createElement("img",{className:"rounded-circle",src:l.thumbnail,alt:n.first}),r.a.createElement("div",{className:"pl-2"},r.a.createElement(H.a,{to:"/profile/".concat(a.username)},r.a.createElement("h6",{className:"mb-0"},"".concat(n.title," ").concat(n.first," ").concat(n.last))),r.a.createElement("small",null,c))))}),te=(a(85),Object(i.c)((function(e){var t=e.userProfiles,a=e.userAccount;return{users:t.users,activeUser:a.activeUser}}),(function(e){return{getUsers:function(t){return e(A(t))}}}))((function(e){var t=e.users,a=e.activeUser,c=Object(n.useState)(""),l=Object(Z.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(1),o=Object(Z.a)(u,2),m=o[0],d=o[1],p=Object(n.useState)(10),f=Object(Z.a)(p,1)[0],E=Object(n.useState)([]),b=Object(Z.a)(E,2),v=b[0],g=b[1];Object(n.useEffect)((function(){g(t)}),[t]);var h=function(e,t){var a=e.filter((function(e){var a=e.name,n=a.first,r=a.last;return n.toLowerCase().includes(t)||r.toLowerCase().includes(t)}));g(a)},j=m*f,N=j-f,y=v.slice(N,j),S=Object(O.a)(new Set(t.map((function(e){return e.gender})))).map((function(e){return{name:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),value:e}}));return r.a.createElement("div",null,r.a.createElement(X,{name:"search",type:"text",value:i,onChange:function(e){s(e.target.value.toLowerCase()),h(t,e.target.value.toLowerCase())},placeholder:"Search by Name",className:"input"}),r.a.createElement("div",{className:"d-flex justify-content-end"},S.length>0&&r.a.createElement(V,{fill:!0,defaultOption:"Filter By Gender",items:S,change:function(e){var a=e.target.value;if("all"===a)return g(t);var n=t.filter((function(e){return e.gender===a}));g(n)}}),r.a.createElement(V,{defaultOption:"Sort by name",items:[{name:"Sort by A-Z",value:"name-asc"},{name:"Sort by Z-A",value:"name-desc"}],change:function(e){var a=e.target.value;if("all"===a)return g(t);var n=Object(O.a)(t).sort((function(e,t){return"name-asc"===a?t.name.first<e.name.first?1:-1:e.name.first<=t.name.first?1:-1}));g(n)}})),r.a.createElement("div",{className:"users-list"},y.map((function(e){return e.id!==a.id&&r.a.createElement(ee,{key:e.login.username,user:e})}))),r.a.createElement(K,{currentPage:m,total:v.length,perPage:f,paginate:function(e){return d(e)}}))}))),ae=function(e){var t=e.user,a=t.login,n=t.name,c=t.email,l=t.picture;return r.a.createElement("div",{className:"pb-3 d-flex"},r.a.createElement("img",{className:"rounded-circle",width:100,src:l.large,alt:"profile",title:"profile"}),r.a.createElement("div",{className:"px-3 py-2"},r.a.createElement(H.a,{to:"/profile/".concat(a.username)},r.a.createElement("h6",{className:"mb-0"},"".concat(n.title," ").concat(n.first," ").concat(n.last))),r.a.createElement("span",{className:"email-id font-weight-lighter"},c)))},ne=Object(i.c)((function(e){return{user:e.userAccount.activeUser}}))((function(e){var t=e.user;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(ae,{user:t})),r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("h2",null,"Friends List"),r.a.createElement(te,null)))})),re=function(e){var t=e.user,a=e.updateProfile,c=e.cancelEditing,l=Object(n.useState)(t),i=Object(Z.a)(l,2),s=i[0],u=i[1],o=function(e){var t=e.target,a=t.name,n=t.value;u((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(B.a)({name:Object(p.a)(Object(p.a)({},e.name),{},Object(B.a)({},a,n))},a,n))}))};return r.a.createElement("div",{className:"w-50"},r.a.createElement(X,{label:"First Name",name:"first",type:"text",onChange:o,value:s.name.first,className:"input"}),r.a.createElement(X,{label:"Last Name",name:"last",onChange:o,type:"text",value:s.name.last,className:"input"}),r.a.createElement(X,{label:"Email",onChange:o,name:"email",type:"email",value:s.email,className:"input"}),r.a.createElement(z,{type:"button",label:"Update",className:"btn-primary mr-3",buttonClicked:function(e){a(s)}}),r.a.createElement(z,{type:"button",label:"Cancel",className:"btn-outline-primary",buttonClicked:c}))},ce=function(e){var t,a,n=e.user,c=e.children,l=n.name,i=n.email,s=n.picture,u=n.gender,o=new Date(null===n||void 0===n||null===(t=n.dob)||void 0===t?void 0:t.date).toLocaleDateString(),m=new Date(null===n||void 0===n||null===(a=n.registered)||void 0===a?void 0:a.date).toLocaleDateString();return r.a.createElement("div",{className:"mt-4"},r.a.createElement("img",{src:null===s||void 0===s?void 0:s.large,alt:"profile"}),r.a.createElement("div",{className:"pt-4"},r.a.createElement("h4",null,"".concat(null===l||void 0===l?void 0:l.title," ").concat(null===l||void 0===l?void 0:l.first," ").concat(null===l||void 0===l?void 0:l.last)),r.a.createElement("div",null,r.a.createElement("strong",null,"Email:"),"\xa0",i),r.a.createElement("div",null,r.a.createElement("strong",null,"Gender:"),"\xa0",u),r.a.createElement("div",null,r.a.createElement("strong",null,"Date of Birth:"),"\xa0",o),r.a.createElement("div",null,r.a.createElement("strong",null,"Registered at:"),"\xa0",m)),c)},le=[{path:"/",key:"home",label:"Home",exact:!0,isAuth:!0,component:ne},{path:"/sign-in",key:"sign-in",label:"Sign In",component:Y},{path:"/sign-up",key:"sign-up",component:$},{path:"/sign-out",key:"sign-out",label:"Sign Out",isAuth:!0,component:function(){return r.a.createElement(J.a,{to:"/"})}},{path:"/profile/:id",key:"profile",component:Object(i.c)((function(e,t){var a=e.userProfiles,n=e.userAccount,r=t.match.params.id;return{users:a.users,isEditing:a.isEditing,activeUser:n.activeUser,currentUserId:r}}),(function(e){return{editUser:function(){return e({type:"EDIT-USER"})},cancelEditing:function(){return e({type:"CANCEL-EDIT-USER"})},updateProfile:function(t){return e(function(e){return{type:"UPDATE-PROFILE",payload:{user:e}}}(t))}}}))((function(e){var t=e.users,a=e.currentUserId,c=e.activeUser,l=e.isEditing,i=e.updateProfile,s=e.cancelEditing,u=e.editUser,o=Object(n.useState)({}),m=Object(Z.a)(o,2),d=m[0],p=m[1];return Object(n.useEffect)((function(){p(t.find((function(e){return e.login.username===a})))}),[t,a]),r.a.createElement(n.Fragment,null,d&&r.a.createElement("div",null,r.a.createElement("h4",null,"Profile Details"),l?r.a.createElement(re,{user:d,updateProfile:i,cancelEditing:s}):r.a.createElement(ce,{user:d},c.id===d.id&&r.a.createElement(z,{type:"button",label:"Edit Profile",className:"btn-primary mt-4",buttonClicked:u}))))}))}],ie=Object(J.g)((function(){return r.a.createElement(J.d,null,le.map((function(e){return e.component&&(e.isAuth?r.a.createElement(Q,e):r.a.createElement(J.b,e))})))})),se=(a(86),function(){return r.a.createElement("footer",{className:"py-2"},r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"\xa9copyright Suvarna's sample code")))}),ue=(a(87),a(47)),oe=a.n(ue),me=function(){return r.a.createElement(H.a,{to:"/",className:"navbar-brand p-0"},r.a.createElement("img",{src:oe.a,alt:"demo code",width:"100"}))},de=(a(88),function(e){var t=e.isAuthenticated,a=e.signOutUser;return r.a.createElement("ul",{className:"nav justify-content-end"},le.map((function(e,n){return function(e){var n="",c=t?e.isAuth:!e.isAuth;return e.label&&(n=c&&r.a.createElement("li",{key:e.key,className:"nav-item ".concat(e.key),onClick:t&&"sign-out"===e.key?a:null},r.a.createElement(H.b,{className:"nav-link p-3",to:e.path,exact:e.exact},e.label))),n}(e)})))}),pe=function(e){return r.a.createElement("header",{className:"sticky-top navbar p-0"},r.a.createElement("div",{className:"container"},r.a.createElement(me,null),r.a.createElement(de,e)))},fe=Object(i.c)((function(e){return{isSignedIn:e.userAccount.signedIn}}),(function(e){return{signOutUser:function(){return e({type:"SIGN-OUT"})},getUsers:function(t){return e(A(t))}}}))((function(e){var t=e.isSignedIn,a=e.signOutUser,c=e.getUsers;return Object(n.useEffect)((function(){c({results:50})}),[c]),r.a.createElement(n.Fragment,null,r.a.createElement(pe,{isAuthenticated:t,signOutUser:a}),r.a.createElement("main",{className:"container"},r.a.createElement(ie,null)),r.a.createElement(se,null))}));a(89);l.a.render(r.a.createElement(i.a,{store:q},r.a.createElement(s.a,{history:T},r.a.createElement(fe,null))),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.455fc9a4.chunk.js.map