(this["webpackJsonpsocial-media-app"]=this["webpackJsonpsocial-media-app"]||[]).push([[0],{36:function(e,a,t){e.exports=t.p+"static/media/profile.a8b203f3.png"},38:function(e,a,t){e.exports=t(61)},53:function(e,a,t){},54:function(e,a,t){},55:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){},59:function(e,a,t){},60:function(e,a,t){},61:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(20),c=t.n(l),i=t(2),s=t(17),u=t(14),m=t(32),o=t(37),d=t(4),p={signedIn:!1,activeUser:{}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SIGN-IN":var t=a.payload,n=t.email,r=t.password,l=t.users,c=E(n,r,l);return c?Object(d.a)({},e,{signedIn:!0,activeUser:c}):Object(d.a)({},e,{signedIn:!1});case"SIGN-OUT":return Object(d.a)({},e,{signedIn:!1});default:return e}},E=function(e,a,t){return t.find((function(t){return t.email===e&&t.password===a}))},b=t(19),N={users:[{id:1,email:"f@i.com",firstName:"FirstName1",lastName:"LastName1",password:"p"},{id:2,email:"mark@gmail.com",firstName:"Mark",lastName:"Zeal",password:"password5"},{id:3,email:"ajay@yahoo.com",firstName:"Ajay",lastName:"Devgan",password:"password9"},{id:4,email:"will@yahoo.com",firstName:"William",lastName:"Andrews",password:"password3"},{id:5,email:"abraham@yahoo.com",firstName:"Abin",lastName:"Abraham",password:"password3"}],isEditing:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE-PROFILE":var t=a.payload.user,n=Object(b.a)(e.users),r=n.findIndex((function(e){return e.id===t.id}));return n[r]=Object(d.a)({},n[r],{},t),Object(d.a)({},e,{isEditing:!1,users:n});case"EDIT-USER":return Object(d.a)({},e,{isEditing:!0});case"CANCEL-EDIT-USER":return Object(d.a)({},e,{isEditing:!1});case"SIGN_UP":var l=a.payload.signedUpUser,c=Object(d.a)({},l,{id:v(e.users)});return Object(d.a)({},e,{users:[].concat(Object(b.a)(e.users),[c])});default:return e}},v=function(e){return Math.max.apply(Math,e.map((function(e){return e.id})))+1},h=function(e){return Object(u.c)({userAccount:f,userProfiles:g,router:Object(s.b)(e)})},y=o.a(),O=[Object(m.a)(y)],j=u.d.apply(void 0,[u.a.apply(void 0,O)].concat([])),w=Object(u.e)(h(y),{},j),U=t(7),I=t(22),S=Object(i.c)((function(e){return{isSignedIn:e.userAccount.signedIn}}))((function(e){var a=e.component,t=e.isSignedIn,n=Object(I.a)(e,["component","isSignedIn"]);return r.a.createElement(U.b,Object.assign({},n,{render:function(e){return!0===t?r.a.createElement(a,e):r.a.createElement(U.a,{to:{pathname:"/sign-in",state:{from:e.location}}})}}))})),C=t(13),k=t(11),A=t(9);t(53);var P=function(e){var a=e.name,t=e.type,n=e.placeholder,l=e.onChange,c=e.className,i=e.value,s=e.error,u=(e.children,e.label);Object(I.a)(e,["name","type","placeholder","onChange","className","value","error","children","label"]);return r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:a},u),r.a.createElement("input",{id:a,name:a,type:t,placeholder:n,onChange:l,value:i,className:"form-control ".concat(c),style:s&&{border:"solid 1px red"}}),s&&r.a.createElement("p",null,s))},x=function(e){var a=e.type,t=e.className,n=e.buttonClicked,l=e.label;return r.a.createElement("button",{type:a,className:"btn rounded ".concat(t),onClick:n},l)},L=(t(54),function(e){var a=e.title,t=e.children;return r.a.createElement("div",{className:"auth-wrapper"},r.a.createElement("h2",null,a),t)}),D=Object(i.c)((function(e){var a=e.userAccount,t=e.userProfiles;return{isSignedIn:a.signedIn,users:t.users}}),(function(e){return{signInUser:function(a,t,n){return e(function(e,a,t){return y.push("/"),{type:"SIGN-IN",payload:{email:e,password:a,users:t}}}(a,t,n))}}}))((function(e){var a=e.isSignedIn,t=e.signInUser,l=e.users,c={email:"",password:""},i=Object(n.useState)(c),s=Object(k.a)(i,2),u=s[0],m=s[1],o=u.email,p=u.password,f=function(e){var a=e.target,t=a.name,n=a.value;m((function(e){return Object(d.a)({},e,Object(C.a)({},t,n))}))};return r.a.createElement("div",{className:"center-form"},a?r.a.createElement("p",null,"Already Signed In"):r.a.createElement(L,{title:"Please Sign In"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o&&p&&(t(o,p,l),m(c))}},r.a.createElement(P,{label:"Email",name:"email",type:"email",value:o,onChange:f,placeholder:"Enter email...",required:!0,className:"input"}),r.a.createElement(P,{label:"Password",name:"password",type:"password",value:p,onChange:f,placeholder:"Enter password...",required:!0,className:"input"}),r.a.createElement("div",{className:"pt-3"},r.a.createElement(x,{type:"submit",label:"Sign In",className:"btn-primary mr-3"}),r.a.createElement(A.a,{to:"sign-up",className:"btn rounded btn-outline-primary"},"Sign Up")))))})),F=Object(i.c)((function(e){return{isSignedIn:e.userAccount.signedIn}}),(function(e){return{signUpUser:function(a){return e((t=a,y.push("/sign-in"),{type:"SIGN_UP",payload:{signedUpUser:t}}));var t}}}))((function(e){var a=e.signUpUser,t={firstName:"",lastName:"",email:"",password:""},l=Object(n.useState)(t),c=Object(k.a)(l,2),i=c[0],s=c[1],u=function(e){var a=e.target,t=a.name,n=a.value;s((function(e){return Object(d.a)({},e,Object(C.a)({},t,n))}))};return r.a.createElement("div",{className:"col-12"},r.a.createElement(L,{title:"Sign Up"},r.a.createElement("form",{name:"form",onSubmit:function(e){e.preventDefault(),i.firstName&&i.lastName&&i.email&&i.password&&(a(i),s(t))}},r.a.createElement(P,{label:"First Name",name:"firstName",type:"text",value:i.firstName,onChange:u,placeholder:"Enter First Name",required:!0,className:"input"}),r.a.createElement(P,{label:"Last Name",name:"lastName",type:"text",value:i.lastName,onChange:u,placeholder:"Enter Last Name",required:!0,className:"input"}),r.a.createElement(P,{label:"Email",name:"email",type:"email",value:i.email,onChange:u,placeholder:"Enter email...",required:!0,className:"input"}),r.a.createElement(P,{label:"Password",name:"password",type:"password",value:i.password,onChange:u,placeholder:"Enter password...",required:!0,className:"input"}),r.a.createElement(x,{type:"submit",label:"Sign Up",className:"btn-primary mr-3"}),r.a.createElement(A.a,{to:"sign-in"},r.a.createElement(x,{type:"button",label:"Cancel",className:"btn-secondary"})))))})),T=(t(55),function(e){var a=e.email,t=e.firstName,n=e.lastName,l=e.id;return r.a.createElement("div",{className:"user-list-row"},r.a.createElement(A.a,{to:"/profile/".concat(l)},r.a.createElement("h5",null,"".concat(t," ").concat(n))),r.a.createElement("span",{className:"small"},a))}),q=Object(i.c)((function(e){var a=e.userProfiles,t=e.userAccount;return{users:a.users,activeUser:t.activeUser}}))((function(e){var a=e.users,t=e.activeUser,l=Object(n.useState)(""),c=Object(k.a)(l,2),i=c[0],s=c[1],u=Object(n.useState)([]),m=Object(k.a)(u,2),o=m[0],d=m[1];Object(n.useEffect)((function(){d(a),s("")}),[a]);var p=function(e,a){return Object(b.a)(e).filter((function(e){var t=e.firstName,n=e.email,r=e.lastName;return t.toLowerCase().includes(a)||r.toLowerCase().includes(a)||n.toLowerCase().includes(a)}))};return r.a.createElement("div",null,r.a.createElement(P,{label:"Search",name:"search",type:"text",value:i,onChange:function(e){s(e.target.value),d(p(a,e.target.value.toLowerCase()))},placeholder:"Search by Name or Email",className:"input"}),r.a.createElement("div",{className:"user-lists"},o.map((function(e){return e.id!==t.id&&r.a.createElement(T,Object.assign({key:e.id},e))}))))})),G=t(36),R=t.n(G),M=function(e){var a=e.email,t=e.firstName,n=e.lastName,l=e.id;return r.a.createElement("div",{className:"pb-3 d-flex"},r.a.createElement("img",{width:100,height:100,src:R.a,alt:"profile",title:"profile image"}),r.a.createElement("div",{className:"px-3 py-2"},r.a.createElement(A.a,{to:"/profile/".concat(l)},r.a.createElement("div",{className:"title"},"".concat(t," ").concat(n))),r.a.createElement("span",{className:"email-id font-weight-lighter"},a)))},J=Object(i.c)((function(e){return{user:e.userAccount.activeUser}}))((function(e){var a=e.user;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md-4"},r.a.createElement(M,a)),r.a.createElement("div",{className:"col-12 col-md-8"},r.a.createElement("h2",null,"All Users List"),r.a.createElement(q,null)))})),K=function(e){var a=e.id,t=e.firstName,l=e.lastName,c=e.email,i=e.updateProfile,s=e.cancelEditing,u=Object(n.useState)({id:a,firstName:t,lastName:l,email:c}),m=Object(k.a)(u,2),o=m[0],p=m[1],f=function(e){var a=e.target,t=a.name,n=a.value;p((function(e){return Object(d.a)({},e,Object(C.a)({},t,n))}))};return r.a.createElement("div",{className:"w-50"},r.a.createElement(P,{label:"First Name",name:"firstName",type:"text",onChange:f,value:o.firstName,className:"input"}),r.a.createElement(P,{label:"Last Name",name:"lastName",onChange:f,type:"text",value:o.lastName,className:"input"}),r.a.createElement(P,{label:"Email",onChange:f,name:"email",type:"email",value:o.email,className:"input"}),r.a.createElement(x,{type:"button",label:"Update",className:"btn-primary mr-3",buttonClicked:function(e){i(o)}}),r.a.createElement(x,{type:"button",label:"Cancel",className:"btn-outline-primary",buttonClicked:s}))},_=(t(56),function(e){var a=e.firstName,t=e.lastName,n=e.email,l=e.children;return r.a.createElement("div",{className:"profile-info"},r.a.createElement("h5",null,"".concat(a," ").concat(t)),r.a.createElement("p",null,n),l)}),B=[{path:"/",key:"home",label:"Home",exact:!0,isAuth:!0,component:J},{path:"/sign-in",key:"sign-in",label:"Sign In",component:D},{path:"/sign-up",key:"sign-up",component:F},{path:"/sign-out",key:"sign-out",label:"Sign Out",isAuth:!0,component:function(){return r.a.createElement(U.a,{to:"/"})}},{path:"/profile/:id",key:"profile",component:Object(i.c)((function(e,a){var t=e.userProfiles,n=e.userAccount,r=a.match.params.id;return{users:t.users,isEditing:t.isEditing,activeUser:n.activeUser,currentUserId:Number(r)}}),(function(e){return{editUser:function(){return e({type:"EDIT-USER"})},cancelEditing:function(){return e({type:"CANCEL-EDIT-USER"})},updateProfile:function(a){return e(function(e){return{type:"UPDATE-PROFILE",payload:{user:e}}}(a))}}}))((function(e){var a=e.users,t=e.currentUserId,l=e.activeUser,c=e.isEditing,i=e.updateProfile,s=e.cancelEditing,u=e.editUser,m=Object(n.useState)({}),o=Object(k.a)(m,2),d=o[0],p=o[1];return Object(n.useEffect)((function(){p(a.find((function(e){return e.id===t})))}),[a,t]),r.a.createElement(n.Fragment,null,r.a.createElement("h2",null,"Profile Details"),c?r.a.createElement(K,Object.assign({},d,{updateProfile:i,cancelEditing:s})):r.a.createElement(_,d,l.id===d.id&&r.a.createElement(x,{type:"button",label:"Edit Profile",className:"btn-primary",buttonClicked:u})))}))}],H=function(){return r.a.createElement(U.d,null,B.map((function(e){return e.component&&(e.isAuth?r.a.createElement(S,e):r.a.createElement(U.b,e))})))},W=(t(57),function(){return r.a.createElement("footer",{className:"py-4"},r.a.createElement("div",{className:"container"},r.a.createElement("p",null,"\xa9copyright Kalido FE Test")))}),Z=(t(58),function(){return r.a.createElement("a",{href:"/",className:"navbar-brand"},r.a.createElement("img",{src:"https://www.kalido.me/wp-content/themes/kalido-theme/img/logo.svg",alt:"Kalido",width:"150"}))}),z=(t(59),function(e){var a=e.isAuthenticated,t=e.signOutUser;return r.a.createElement("ul",{className:"nav justify-content-end"},B.map((function(e,n){return function(e){var n="",l=a?e.isAuth:!e.isAuth;return e.label&&(n=l&&r.a.createElement("li",{key:e.key,className:"nav-item ".concat(e.key),onClick:a&&"sign-out"===e.key?t:null},r.a.createElement(A.b,{className:"nav-link p-3",to:e.path,exact:e.exact},e.label))),n}(e)})))}),Q=function(e){return r.a.createElement("header",{className:"sticky-top navbar bg-dark p-0"},r.a.createElement("div",{className:"container"},r.a.createElement(Z,null),r.a.createElement(z,e)))},V=Object(i.c)((function(e){return{isSignedIn:e.userAccount.signedIn}}),(function(e){return{signOutUser:function(){return e({type:"SIGN-OUT"})}}}))((function(e){var a=e.isSignedIn,t=e.signOutUser;return r.a.createElement(n.Fragment,null,r.a.createElement(Q,{isAuthenticated:a,signOutUser:t}),r.a.createElement("main",{className:"container"},r.a.createElement(H,null)),r.a.createElement(W,null))}));t(60);c.a.render(r.a.createElement(i.a,{store:w},r.a.createElement(s.a,{history:y},r.a.createElement(V,null))),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.7267fdfa.chunk.js.map